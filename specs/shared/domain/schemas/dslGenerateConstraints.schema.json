{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://metrics-simple.com/schemas/dslGenerateConstraints.schema.json",
  "title": "DSL Generation Constraints",
  "description": "Constraints applied to the LLM during DSL generation to ensure safety and performance.",
  "type": "object",
  "properties": {
    "maxColumns": {
      "type": "integer",
      "description": "Maximum number of output columns allowed in the generated schema.",
      "minimum": 1,
      "default": 50
    },
    "allowTransforms": {
      "type": "boolean",
      "description": "If true, the LLM can use complex transformation functions (e.g., date formatting, aggregation).",
      "default": true
    },
    "forbidNetworkCalls": {
      "type": "boolean",
      "description": "If true, the LLM is instructed to avoid generating code that performs external network calls.",
      "default": true
    },
    "forbidCodeExecution": {
      "type": "boolean",
      "description": "If true, the LLM is instructed to avoid generating code that executes arbitrary system commands.",
      "default": true
    }
  },
  "required": [
    "maxColumns",
    "allowTransforms",
    "forbidNetworkCalls",
    "forbidCodeExecution"
  ],
  "additionalProperties": false
}
